<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>membrane.component documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">membrane</span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>membrane</span></div></div></li><li class="depth-2 branch"><a href="membrane.basic-components.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>basic-components</span></div></a></li><li class="depth-2 branch current"><a href="membrane.component.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>component</span></div></a></li><li class="depth-2 branch"><a href="membrane.java2d.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>java2d</span></div></a></li><li class="depth-2 branch"><a href="membrane.lanterna.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lanterna</span></div></a></li><li class="depth-2 branch"><a href="membrane.skia.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>skia</span></div></a></li><li class="depth-2 branch"><a href="membrane.skija.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>skija</span></div></a></li><li class="depth-2 branch"><a href="membrane.toolkit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>toolkit</span></div></a></li><li class="depth-2"><a href="membrane.ui.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ui</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="membrane.component.html#var-*env*"><div class="inner"><span>*env*</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-*sci-ctx*"><div class="inner"><span>*sci-ctx*</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-building-graalvm-image.3F"><div class="inner"><span>building-graalvm-image?</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-cache-evict"><div class="inner"><span>cache-evict</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-cache-has.3F"><div class="inner"><span>cache-has?</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-cache-lookup-or-miss"><div class="inner"><span>cache-lookup-or-miss</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-cache-miss"><div class="inner"><span>cache-miss</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-cljs-env-compiler"><div class="inner"><span>cljs-env-compiler</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-cljs-resolve"><div class="inner"><span>cljs-resolve</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-cljs-resolve-var"><div class="inner"><span>cljs-resolve-var</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-component-cache"><div class="inner"><span>component-cache</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-default-delete"><div class="inner"><span>default-delete</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-default-get"><div class="inner"><span>default-get</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-default-handler"><div class="inner"><span>default-handler</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-default-set"><div class="inner"><span>default-set</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-default-update"><div class="inner"><span>default-update</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-defeffect"><div class="inner"><span>defeffect</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-defui"><div class="inner"><span>defui</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-dispatch.21*"><div class="inner"><span>dispatch!*</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-effect-clipboard-copy"><div class="inner"><span>effect-clipboard-copy</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-effect-clipboard-cut"><div class="inner"><span>effect-clipboard-cut</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-effects"><div class="inner"><span>effects</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-has-key-event-memo"><div class="inner"><span>has-key-event-memo</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-has-key-press-memo"><div class="inner"><span>has-key-press-memo</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-has-mouse-move-global-memo"><div class="inner"><span>has-mouse-move-global-memo</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-make-app"><div class="inner"><span>make-app</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-path-.3Espec"><div class="inner"><span>path-&gt;spec</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-path-replace"><div class="inner"><span>path-replace</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-path-replace-macro"><div class="inner"><span>path-replace-macro</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-reset-component-cache.21"><div class="inner"><span>reset-component-cache!</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-resolve-sci-meta"><div class="inner"><span>resolve-sci-meta</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-sci-eval-form"><div class="inner"><span>sci-eval-form</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-special-fns"><div class="inner"><span>special-fns</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-special-syms"><div class="inner"><span>special-syms</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-top-level-ui"><div class="inner"><span>top-level-ui</span></div></a></li><li class="depth-1"><a href="membrane.component.html#var-ui-var-.3Etop-level-ui"><div class="inner"><span>ui-var-&gt;top-level-ui</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">membrane.component</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-*env*"><h3>*env*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L308">view source</a></div></div><div class="public anchor" id="var-*sci-ctx*"><h3>*sci-ctx*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L51">view source</a></div></div><div class="public anchor" id="var-building-graalvm-image.3F"><h3>building-graalvm-image?</h3><h4 class="type">macro</h4><div class="usage"><code>(building-graalvm-image?)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L19">view source</a></div></div><div class="public anchor" id="var-cache-evict"><h3>cache-evict</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L936">view source</a></div></div><div class="public anchor" id="var-cache-has.3F"><h3>cache-has?</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L935">view source</a></div></div><div class="public anchor" id="var-cache-lookup-or-miss"><h3>cache-lookup-or-miss</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L934">view source</a></div></div><div class="public anchor" id="var-cache-miss"><h3>cache-miss</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L937">view source</a></div></div><div class="public anchor" id="var-cljs-env-compiler"><h3>cljs-env-compiler</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L34">view source</a></div></div><div class="public anchor" id="var-cljs-resolve"><h3>cljs-resolve</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L32">view source</a></div></div><div class="public anchor" id="var-cljs-resolve-var"><h3>cljs-resolve-var</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L33">view source</a></div></div><div class="public anchor" id="var-component-cache"><h3>component-cache</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L922">view source</a></div></div><div class="public anchor" id="var-default-delete"><h3>default-delete</h3><div class="usage"><code>(default-delete atm path)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1366">view source</a></div></div><div class="public anchor" id="var-default-get"><h3>default-get</h3><div class="usage"><code>(default-get atm path)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1362">view source</a></div></div><div class="public anchor" id="var-default-handler"><h3>default-handler</h3><div class="usage"><code>(default-handler atm)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1394">view source</a></div></div><div class="public anchor" id="var-default-set"><h3>default-set</h3><div class="usage"><code>(default-set atm path v)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1356">view source</a></div></div><div class="public anchor" id="var-default-update"><h3>default-update</h3><div class="usage"><code>(default-update atm path f &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1346">view source</a></div></div><div class="public anchor" id="var-defeffect"><h3>defeffect</h3><h4 class="type">macro</h4><div class="usage"><code>(defeffect type args &amp; body)</code></div><div class="doc"><div class="markdown"><p>Define an effect.</p>
<p><code>defeffect</code> is a macro that does 3 things:</p>
<ol>
<li>It registers a global effect handler of <code>type</code>. <code>type</code> should be a keyword and since it is registered globally, should be namespaced</li>
<li>It will define a var in the current namespace of <code>effect-*type*</code> where <em>type</em> is the name of the type keyword. This can be useful if you want to be able to use your effect functions in isolation</li>
<li>It will implicitly add an additional argument as the first parameter named <code>dispatch</code></li>
</ol>
<p>The arglist for <code>dispatch!</code> is <code>[type &amp; args]</code>. Calling <code>dispatch!</code> will invoke the effect of <code>type</code> with <code>args</code>.
The role of <code>dispatch!</code> is to allow effects to define themselves in terms of other effects. Effects should not be called directly because while the default for an application is to use all the globally defined effects, this can be overridden for testing, development, or otherwise.</p>
<p>example:</p>
<p>(defeffect ::increment-number <a href="$num">$num</a>
(dispatch! :update $num inc))</p>
</div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1145">view source</a></div></div><div class="public anchor" id="var-defui"><h3>defui</h3><h4 class="type">macro</h4><div class="usage"><code>(defui ui-name &amp; fdecl)</code></div><div class="doc"><div class="markdown"><p>Define a component.</p>
<p>The arguments for a component must take the form (defui my-component [ &amp; {:keys <a href="arg1 arg2 ...">arg1 arg2 ...</a>}])</p>
</div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L943">view source</a></div></div><div class="public anchor" id="var-dispatch.21*"><h3>dispatch!*</h3><div class="usage"><code>(dispatch!* atm dispatch! &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1372">view source</a></div></div><div class="public anchor" id="var-effect-clipboard-copy"><h3>effect-clipboard-copy</h3><div class="usage"><code>(effect-clipboard-copy dispatch! s)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1173">view source</a></div></div><div class="public anchor" id="var-effect-clipboard-cut"><h3>effect-clipboard-cut</h3><div class="usage"><code>(effect-clipboard-cut dispatch! s)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1175">view source</a></div></div><div class="public anchor" id="var-effects"><h3>effects</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1144">view source</a></div></div><div class="public anchor" id="var-has-key-event-memo"><h3>has-key-event-memo</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L940">view source</a></div></div><div class="public anchor" id="var-has-key-press-memo"><h3>has-key-press-memo</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L939">view source</a></div></div><div class="public anchor" id="var-has-mouse-move-global-memo"><h3>has-mouse-move-global-memo</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L941">view source</a></div></div><div class="public anchor" id="var-make-app"><h3>make-app</h3><div class="usage"><code>(make-app ui-var)</code><code>(make-app ui-var initial-state)</code><code>(make-app ui-var initial-state handler)</code></div><div class="doc"><div class="markdown"><p><code>ui-var</code> The var for a component
<code>initial-state</code> The initial state of the component to run or an atom that contains the initial state.
<code>handler</code> The effect handler for your UI. The <code>handler</code> will be called with all effects returned by the event handlers of your ui.</p>
<p>If <code>handler</code> is nil or an arity that doesn't specify <code>handler</code> is used, then a default handler using all of the globally defined effects from <code>defeffect</code> will be used. In addition to the globally defined effects the handler will provide 3 additional effects:</p>
<p><code>:update</code> similar to <code>update</code> except instead of a keypath, takes a more generic path.
example: <code>[:update $ref inc]</code></p>
<p><code>:set</code> sets the value given a $path
example: <code>[:set $ref val]</code></p>
<p><code>:delete</code> deletes value at $path
example: <code>[:delete $ref]</code></p>
<p><code>make-app</code> returns a view function.</p>
</div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1459">view source</a></div></div><div class="public anchor" id="var-path-.3Espec"><h3>path-&gt;spec</h3><div class="usage"><code>(path-&gt;spec elem)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L111">view source</a></div></div><div class="public anchor" id="var-path-replace"><h3>path-replace</h3><div class="usage"><code>(path-replace form)</code><code>(path-replace form deps)</code></div><div class="doc"><div class="markdown"><p>Given a form, walk and replace all $syms with the lens (or path) for the sym with the same name.</p>
</div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L721">view source</a></div></div><div class="public anchor" id="var-path-replace-macro"><h3>path-replace-macro</h3><h4 class="type">macro</h4><div class="usage"><code>(path-replace-macro deps form)</code><code>(path-replace-macro form)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L906">view source</a></div></div><div class="public anchor" id="var-reset-component-cache.21"><h3>reset-component-cache!</h3><div class="usage"><code>(reset-component-cache!)</code></div><div class="doc"><div class="markdown"><p>For debugging purposes only. Ideally, should never be necessary.</p>
</div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L924">view source</a></div></div><div class="public anchor" id="var-resolve-sci-meta"><h3>resolve-sci-meta</h3><div class="usage"><code>(resolve-sci-meta sym)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L58">view source</a></div></div><div class="public anchor" id="var-sci-eval-form"><h3>sci-eval-form</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L54">view source</a></div></div><div class="public anchor" id="var-special-fns"><h3>special-fns</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L306">view source</a></div></div><div class="public anchor" id="var-special-syms"><h3>special-syms</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L68">view source</a></div></div><div class="public anchor" id="var-top-level-ui"><h3>top-level-ui</h3><div class="usage"><code>(top-level-ui {:keys [state body path-keys val-key-fns handler extra context]})</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1314">view source</a></div></div><div class="public anchor" id="var-ui-var-.3Etop-level-ui"><h3>ui-var-&gt;top-level-ui</h3><div class="usage"><code>(ui-var-&gt;top-level-ui ui-var)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/phronmophobic/membrane/blob/main/src/membrane/component.cljc#L1409">view source</a></div></div></div></body></html>